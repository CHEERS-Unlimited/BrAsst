{# src/AppBundle/Resources/views/Meat/Api/widget.html.twig #}
{% if detectedBrowser %}
    {% set clientVersionShort = detectedBrowser.clientVersion|split('.')[0] %}
    {% set stableVersionShort = detectedBrowser.stableVersion|split('.')[0] %}

    {% if detectedBrowser.vendor %}
        {{ 'message.standard_extended'|trans({
            '%browser%':            detectedBrowser.browser,
            '%vendor%':             detectedBrowser.vendor,
            '%osFamily%':           detectedBrowser.osFamily,
            '%clientVersion%':      detectedBrowser.clientVersion,
            '%clientVersionShort%': clientVersionShort})
        }}
    {% else %}
        {{ 'message.standard'|trans({
            '%browser%':            detectedBrowser.browser,
            '%osFamily%':           detectedBrowser.osFamily,
            '%clientVersion%':      detectedBrowser.clientVersion,
            '%clientVersionShort%': clientVersionShort})
        }}
    {% endif %}

    <small title="{{ 'tooltip.wrong_browser'|trans }}">[скорее всего...]</small>

    <br>

    {% if detectedBrowser.userWarning %}
        {{ detectedBrowser.userWarning|trans }}
        <br>
    {% else %}
        {% if detectedBrowser.isOutdated %}
            {{ 'message.outdated'|trans({
                '%stableVersionShort%': stableVersionShort,
                '%stableVersion%': detectedBrowser.stableVersion})
            }}

            <br>

            <a href="{{ detectedBrowser.stableVersionLink }}">{{ 'browser.button_download'|trans }} {{ 'browser.button_official_page'|trans }}</a>

            <small title="{{ 'tooltip.uninstall_browser'|trans }}">[!]</small>
        {% else %}
            {{ 'message.uptodate'|trans }}
        {% endif %}
        <br>
        {% if detectedBrowser.browser == "Internet Explorer" %}
            {{ 'message.explorer'|trans }}
            <br>
        {% endif %}
    {% endif %}
{% else %}
    {{ userError|trans }}
    <br>
{% endif %}
