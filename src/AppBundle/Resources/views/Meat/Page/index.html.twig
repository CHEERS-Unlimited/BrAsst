{# AppBundle/Resources/views/Meat/index.html.twig #}
{% extends '::base.html.twig' %}

{% block stylesheets %}
    {% stylesheets
        'bundles/app/Meat/css/css_1.css'
        'bundles/app/Meat/css/css_2.css' output='compiled/Meat/css/main.css' filter='cssrewrite' %}
        <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}
    {% stylesheets
        'bundles/app/Meat/css/css_3.css' output='compiled/Meat/css/additional.css' filter='cssrewrite' %}
    <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}
{% endblock %}

{% block body %}
    {% if detectedBrowser %}
        {% set clientVersionShort = detectedBrowser.clientVersion|split('.')[0] %}
        {% set stableVersionShort = detectedBrowser.stableVersion|split('.')[0] %}
        {{ 'message_standard'|trans({
            '%browser%':            detectedBrowser.browser,
            '%vendor%':             detectedBrowser.vendor,
            '%osFamily%':           detectedBrowser.osFamily,
            '%clientVersion%':      detectedBrowser.clientVersion,
            '%clientVersionShort%': clientVersionShort})
        }}
        <br>
        {% if detectedBrowser.isOutdated %}
            {{ 'message_outdated'|trans({
                '%stableVersionShort%': stableVersionShort,
                '%stableVersion%': detectedBrowser.stableVersion})
            }}
            <br>
            <a href="{{ detectedBrowser.stableVersionLink }}">{{ detectedBrowser.stableVersionLink }}</a>
        {% else %}
            {{ 'message_uptodate'|trans }}
        {% endif %}
        <br>
        {% if detectedBrowser.browser == "Internet Explorer" %}
            {{ 'message_explorer'|trans }}
        {% endif %}
    {% else %}
        {{ userError|trans }}
    {% endif %}

    {% for browser in browsers %}
        {% set browserVersion = browser.browserVersion[0] %}
        {% set stableVersionShort = browserVersion.version|split('.')[0] %}
        -----
        <br>
        {{ browser.marketShare }}%
        <br>
        {{ browser.vendor }} / {{ browser.name }}
        <br>
        {{ stableVersionShort }} ({{ browserVersion.version }})
        <br>
        {{ browser.link }}
        <br>
    {% endfor %}
{% endblock %}

{% block javascripts %}
    {% javascripts
        'bundles/app/Meat/js/js_1.js'
        'bundles/app/Meat/js/js_2.js' output='compiled/Meat/js/main.js' %}
        <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
    {% javascripts
        'bundles/app/Meat/js/js_3.js' output='compiled/Meat/js/additional.js' %}
        <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}